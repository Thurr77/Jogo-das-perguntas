:root{
  --bg-0:#060606;
  --bg-1:#0b0b0b;
  --card:#ffffff;
  --muted:#9aa0a6;
  --text:#0b0b0b;
  --accent:#111111;
  --glass: rgba(255,255,255,0.04);
  --success:#16a34a;
  --danger:#ef4444;
  --radius:14px;
  --shadow-lg: 0 18px 50px rgba(3,3,3,0.7);
  --shadow-md: 0 10px 30px rgba(3,3,3,0.5);
  --max-width:1100px;
}

/* base */
*{box-sizing:border-box}
html,body,#app{height:100%}
body{
  margin:0;
  font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  background: linear-gradient(180deg,var(--bg-0) 0%, var(--bg-1) 100%);
  color:var(--card);
  display:flex;
  align-items:center;
  justify-content:center;
  padding:28px;
  min-height:100vh;
}

.app{
  width:100%;
  max-width:var(--max-width);
  position:relative;
  padding:18px;
}

/* decorative background subtle */
.bg-shapes{position:absolute;inset:0;pointer-events:none;opacity:0.06;background:
  radial-gradient(400px 140px at 10% 10%, rgba(255,255,255,0.04), transparent 10%),
  radial-gradient(400px 140px at 90% 85%, rgba(255,255,255,0.02), transparent 12%);
  filter:blur(18px);}

/* header */
.header{display:flex;align-items:center;justify-content:space-between;margin-bottom:18px}
.header h1{margin:0;font-size:clamp(18px,2.8vw,28px);color:var(--card);letter-spacing:-0.2px}

/* icon buttons */
.btn-icon{background:transparent;border:0;color:var(--card);font-size:18px;padding:8px;border-radius:10px;cursor:pointer}
.btn-icon:focus{outline:3px solid rgba(255,255,255,0.12);outline-offset:3px}

/* generic buttons */
.btn{display:inline-flex;align-items:center;gap:8px;padding:10px 16px;border-radius:12px;border:0;cursor:pointer;font-weight:700}
.btn:focus{outline:3px solid rgba(255,255,255,0.12);outline-offset:3px}
.btn.primary{background:var(--card);color:var(--text);box-shadow:0 12px 30px rgba(0,0,0,0.5)}
.btn.ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--card)}
.btn.small{padding:8px 10px;border-radius:10px}

/* screens */
.screen{display:none}
.screen.active{display:block}

/* HOME CARD */
.home-card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:22px;border-radius:18px;box-shadow:var(--shadow-md);backdrop-filter:blur(6px)}
.lead{color:var(--muted);margin:0}
.controls-row{display:flex;gap:12px;align-items:center;flex-wrap:wrap;margin-top:12px}
.controls-row label{font-size:13px;color:var(--muted)}

/* FIXED: form controls appearance (ensures readable text) */
.controls-row select,
.controls-row input,
.form-row input[type="number"],
.form-row select,
.form-row input[type="range"],
#select-diff,
#select-count,
#toggle-shuffle,
#input-time{
  background:var(--card);
  color:var(--text);
  border:1px solid rgba(0,0,0,0.06);
  padding:10px 12px;
  border-radius:10px;
  -webkit-appearance:none;
  appearance:none;
}

/* Ensure option text readable in dropdowns */
select option{ color:var(--text); background:var(--card);}

/* actions and summary */
.home-actions{display:flex;gap:12px;margin-top:12px}
.settings-summary{margin-top:10px;color:var(--muted);font-size:13px}
.footer{margin-top:16px;text-align:center;color:var(--muted);font-size:13px}

/* GAME HEADER */
.game-header{display:flex;align-items:center;justify-content:space-between;width:100%;gap:12px}
.game-header .left,.game-header .center,.game-header .right{display:flex;align-items:center;gap:12px}
.progress-text{font-size:13px;color:var(--muted)}
.progress{display:flex;align-items:center;gap:8px}
.progress-bar{width:320px;max-width:40vw;height:12px;background:rgba(255,255,255,0.06);border-radius:999px;overflow:hidden}
.progress-bar > div{height:100%;background:var(--card);width:0%;transition:width .45s cubic-bezier(.2,.9,.3,1)}

/* timer */
.timer{background:var(--card);color:var(--text);padding:6px 10px;border-radius:10px;font-weight:700;min-width:56px;text-align:center}

/* GAME AREA & QUESTION CARD */
.game-area{margin-top:18px;display:flex;justify-content:center}
.card{background:var(--card);color:var(--text);border-radius:calc(var(--radius) + 4px);padding:20px;box-shadow:var(--shadow-lg);max-width:980px;width:100;transform:rotate(-1.2deg);position:relative}
#question-card.card{padding:28px 32px}

/* speech tail */
#question-card.card::after{content:"";position:absolute;left:6%;bottom:-26px;width:0;height:0;border-left:26px solid transparent;border-right:26px solid transparent;border-top:28px solid var(--card);transform:rotate(-6deg)}

/* question text & image */
#question-card h2{margin:0;font-size:16px;color:var(--muted);transform:rotate(-1.2deg)}
#question-text{margin-top:12px;font-size:20px;line-height:1.3;color:var(--text);font-weight:700;transform:rotate(-1.2deg)}
#question-img-wrapper{margin-top:14px}
#question-img{width:100%;height:auto;border-radius:12px;display:block;box-shadow:var(--shadow-md)}

/* ANSWERS */
/* Ensure answer boxes have dark label and readable black text on white background */
#answers{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-top:20px}
@media(max-width:780px){#answers{grid-template-columns:1fr}}
.answer{display:flex;align-items:center;gap:12px;padding:14px;border-radius:12px;background:linear-gradient(180deg,var(--card),#fbfbfb);color:var(--text);box-shadow:0 12px 30px rgba(0,0,0,0.12);cursor:pointer;border:1px solid rgba(0,0,0,0.04);transition:transform .16s cubic-bezier(.2,.9,.3,1),box-shadow .16s}
.answer:hover{transform:translateY(-6px);box-shadow:0 24px 48px rgba(0,0,0,0.18)}
.answer:focus{outline:3px solid rgba(0,0,0,0.12);outline-offset:3px}

/* label and text */
.answer .label{flex:0 0 56px;height:40px;border-radius:8px;background:var(--text);color:var(--card);display:flex;align-items:center;justify-content:center;font-weight:800}
.answer .text{flex:1;font-size:15px;color:var(--text)}

/* states */
.answer.correct{border:2px solid var(--success);background:linear-gradient(90deg, rgba(34,197,94,0.04), rgba(34,197,94,0.02))}
.answer.wrong{border:2px solid var(--danger);background:linear-gradient(90deg, rgba(239,68,68,0.04), rgba(239,68,68,0.02))}
.answer.disabled{pointer-events:none;opacity:0.78}

/* MODALS */
/* Inputs and selects inside modal should also be readable (black on white) */
.modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;padding:20px;background:linear-gradient(180deg, rgba(0,0,0,0.65), rgba(0,0,0,0.8));z-index:120}
.modal[hidden]{display:none}
.modal .modal-content{max-width:820px;width:100;background:var(--card);color:var(--text);padding:20px;border-radius:12px;box-shadow:var(--shadow-lg)}
.modal .close{position:absolute;right:12px;top:12px;background:transparent;border:0;font-size:18px;cursor:pointer}

/* settings form */
.form-row{display:flex;flex-direction:column;margin-bottom:10px;color:var(--text)}
.form-row label{color:var(--muted);margin-bottom:6px}
.form-row input[type=number], .form-row select{padding:8px;border-radius:8px;border:1px solid rgba(0,0,0,0.06);background:var(--card);color:var(--text);min-width:120px}
.form-row input[type=range]{width:100%}
fieldset{border:1px solid rgba(0,0,0,0.06);padding:10px;border-radius:10px}
legend{padding:0 6px;color:var(--muted)}
.muted{color:var(--muted);font-size:13px}

/* results */
.results-card{padding:18px;border-radius:12px;background:var(--card);color:var(--text);box-shadow:var(--shadow-md)}
.results-stats{display:grid;grid-template-columns:repeat(2,1fr);gap:10px}

/* small screens */
@media(max-width:640px){
  .card{padding:18px;transform:none}
  #question-card.card::after{display:none}
  .game-header{flex-direction:column;align-items:flex-start;gap:8px}
  .progress-bar{width:100%}
}

/* accessibility: reduced motion */
@media (prefers-reduced-motion: reduce){
  .answer{transition:none}
  .progress-bar > div{transition:none}
}

/* utility classes */
.hidden{display:none!important}
